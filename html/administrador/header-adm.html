<div class="header-container">
    <header class="header-summary">
        <div class="logo-section">
            <div class="logo">
                <i class="fas fa-chart-line"></i>
                <span>MyWallet</span>
            </div>
        </div>
        <div class="portfolio-actions">
            <button id="logoutBtn" class="logout-btn desktop-only">
                <i class="fas fa-sign-out-alt"></i>
                <span>Logout</span>
            </button>
            <div class="user-profile desktop-only">
                <a href="#">
                    <i class="fas fa-user-circle"></i>
                </a>
            </div>
            <button class="mobile-menu-btn mobile-only">
                <i class="fas fa-bars"></i>
            </button>
        </div>
    </header>

    <nav class="navigation">
        <div class="desktop-menu">
            <a href="dashboard.html" class="nav-item">
                <i class="fas fa-tachometer-alt"></i>
                <span>DASHBOARD</span>
            </a>
            <a href="gestao-usuarios.html" class="nav-item">
                <i class="fas fa-users"></i>
                <span>GESTÃO DE USUÁRIOS</span>
            </a>
            <a href="adicionar-usuario.html" class="nav-item">
                <i class="fas fa-chart-bar"></i>
                <span>ADICIONAR USUÁRIO</span>
            </a>
        </div>
    </nav>

    <!-- Mobile Menu -->
    <div class="mobile-menu">
        <div class="mobile-menu-header">
            <div class="user-profile">
                <a href="perfil.html">
                    <i class="fas fa-user-circle"></i>
                </a>
            </div>
            <button class="close-mobile-menu">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="mobile-menu-items">
            <a href="dashboard.html" class="nav-item">
                <i class="fas fa-tachometer-alt"></i>
                <span>Dashboard</span>
            </a>
            <a href="gestao-usuarios.html" class="nav-item">
                <i class="fas fa-users"></i>
                <span>Gestão de Usuários</span>
            </a>
            <a href="adicionar-usuario.html" class="nav-item">
                <i class="fas fa-chart-bar"></i>
                <span>Adicionar Usuário</span>
            </a>
        </div>
        <div class="mobile-menu-footer">
            <button id="mobileLogoutBtn" class="logout-btn">
                <i class="fas fa-sign-out-alt"></i>
                <span>Logout</span>
            </button>
        </div>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        // Mobile menu functionality
        const mobileMenuBtn = document.querySelector('.mobile-menu-btn');
        const closeMobileMenu = document.querySelector('.close-mobile-menu');
        const mobileMenu = document.querySelector('.mobile-menu');
        const body = document.body;

        function openMobileMenu() {
            mobileMenu.classList.add('active');
            body.style.overflow = 'hidden';
        }

        function closeMobileMenuHandler() {
            mobileMenu.classList.remove('active');
            body.style.overflow = '';
        }

        mobileMenuBtn.addEventListener('click', openMobileMenu);
        closeMobileMenu.addEventListener('click', closeMobileMenuHandler);

        // Close menu when clicking outside
        document.addEventListener('click', function (event) {
            if (mobileMenu.classList.contains('active') &&
                !mobileMenu.contains(event.target) &&
                !mobileMenuBtn.contains(event.target)) {
                closeMobileMenuHandler();
            }
        });

        // Close menu when pressing Escape key
        document.addEventListener('keydown', function (event) {
            if (event.key === 'Escape' && mobileMenu.classList.contains('active')) {
                closeMobileMenuHandler();
            }
        });

        // Logout functionality
        const logoutBtn = document.getElementById('logoutBtn');
        const mobileLogoutBtn = document.getElementById('mobileLogoutBtn');

        const handleLogout = () => {
            // Clear any stored data
            localStorage.clear();
            sessionStorage.clear();

            // Redirect to login page
            window.location.href = '../auth/login.html';
        };

        logoutBtn.addEventListener('click', handleLogout);
        mobileLogoutBtn.addEventListener('click', handleLogout);

        // Set active nav item based on current page
        const currentPage = window.location.pathname.split('/').pop();
        const navItems = document.querySelectorAll('.nav-item');

        navItems.forEach(item => {
            if (item.getAttribute('href') === currentPage) {
                item.classList.add('active');
            }
        });
    });
</script>